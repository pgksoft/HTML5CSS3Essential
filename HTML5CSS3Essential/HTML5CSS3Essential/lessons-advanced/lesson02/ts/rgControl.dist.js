!function(e){var t={};function a(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(s,n,function(t){return e[t]}.bind(null,n));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=4)}([function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return m}));var s,n;!function(e){e[e.LeftToRight=1]="LeftToRight",e[e.TopToBottom=2]="TopToBottom",e[e.LeftTopToBottomRight=3]="LeftTopToBottomRight",e[e.RightTopToLeftBottom=4]="RightTopToLeftBottom"}(s||(s={})),function(e){e[e.Centre=1]="Centre",e[e.LeftRight=2]="LeftRight",e[e.RightLeft=3]="RightLeft",e[e.TopBottom=4]="TopBottom",e[e.BottomTop=5]="BottomTop"}(n||(n={}));class i{constructor(){this.colorScheme=new o}GetGradientProperties(){this.direction=m.instance.gradientDirection,this.colorScheme=new o;let e,t,a=m.instance.RandomInt(5,15);for(let s=0;s<a;s++)e=s/a,t=m.instance.randomColor,this.colorScheme.Add([e,t]);return e=1,t=m.instance.randomColor,this.colorScheme.Add([e,t]),this}}class o{constructor(){this._scheme=[]}get list(){return this._scheme}Add(e){this._scheme.push(e)}Clear(){this._scheme.length=0}}class r{constructor(e,t,a,s,n,i){this._oneX=0,this._oneY=0,this._oneR=0,this._twoX=0,this._twoY=0,this._twoR=0,this._oneX=e,this._oneY=t,this._oneR=a,this._twoX=s,this._twoY=n,this._twoR=i}get oneX(){return this._oneX}set oneX(e){this._oneX=e}get oneY(){return this._oneY}set oneY(e){this._oneY=e}get oneR(){return this._oneR}set oneR(e){this._oneR=e}get twoX(){return this._twoX}set twoX(e){this._twoX=e}get twoY(){return this._twoY}set twoY(e){this._twoY=e}get twoR(){return this._twoR}set twoR(e){this._twoR=e}}let m=(()=>{class e{constructor(){this._mapColors=new Map([["Aliceblue","#f0f8ff"],["Antiquewhite","#FAEBD7"],["Aqua","#00FFFF"],["Aquamarine","#7FFFD4"],["Azure","#F0FFFF"],["Beige","#F5F5DC"],["Bisque","#FFE4C4"],["Black","#000000"],["Blanchedalmond","#FFEBCD"],["Blue","#0000ff"],["Blueviolet","#8A2BE2"],["Brown","#A52A2A"],["Burlywood","#DEB887"],["Cadetblue","#5F9EA0"],["Chartreuse","#7FFF00"],["Chocolate","#D2691E"],["Coral","#FF7F50"],["Cornflowerblue","#6495ED"],["Cornsilk","#FFF8DC"],["Crimson","#DC143C"],["Cyan","#00FFFF"],["Darkblue","#00008B"],["Darkcyan","#008B8B"],["Darkgoldenrod","#B8860B"],["Darkgray","#A9A9A9"],["Darkgreen","#006400"],["Darkkhaki","#BDB76B"],["Darkmagenta","#8B008B"],["Darkolivegreen","#556B2F"],["Darkorange","#FF8C00"],["Darkorchid","#9932CC"],["Darkred","#8B0000"],["Darksalmon","#E9967A"],["Darkseagreen","#8FBC8B"],["Darkslateblue","#483D8B"],["Darkslategray","#2F4F4F"],["Darkturquoise","#00CED1"],["Darkviolet","#9400D3"],["Deeppink","#FF1493"],["Deepskyblue","#00BFFF"],["Dimgray","#696969"],["Dodgerblue","#1E90FF"],["Firebrick","#B22222"],["Floralwhite","#FFFAF0"],["Forestgreen","#228B22"],["Fuchsia","#FF00FF"],["Gainsboro","#DCDCDC"],["Ghostwhite","#F8F8FF"],["Gold","#FFD700"],["Goldenrod","#DAA520"],["Gray","#808080"],["Green","#008000"],["Greenyellow","#ADFF2F"],["Honeydew","#F0FFF0"],["Hotpink","#FF69B4"],["Indianred","#CD5C5C"],["Indigo","#4B0082"],["Ivory","#FFFFF0"],["Khaki","#F0E68C"],["Lavender","#E6E6FA"],["Lavenderblush","#FFF0F5"],["Lawngreen","#7CFC00"],["Lemonchiffon","#FFFACD"],["Lightblue","#ADD8E6"],["Lightcoral","#F08080"],["Lightcyan","#E0FFFF"],["Lightgoldenrod","#EEDD82"],["Lightgoldenrodyellow","#FAFAD2"],["Lightgray","#D3D3D3"],["Lightgreen","#90EE90"],["Lightpink","#FFB6C1"],["Lightsalmon","#FFA07A"],["Lightseagreen","#20B2AA"],["Lightskyblue","#87CEFA"],["Lightslateblue","#8470FF"],["Lightslategray","#778899"],["Lightsteelblue","#B0C4DE"],["Lightyellow","#FFFFE0"],["Lime","#00FF00"],["Limegreen","#32CD32"],["Linen","#FAF0E6"],["Magenta","#FF00FF"],["Maroon","#800000"],["Mediumaquamarine","#66CDAA"],["Mediumblue","#0000CD"],["Mediumorchid","#BA55D3"],["Mediumpurple","#9370DB"],["Mediumseagreen","#3CB371"],["Mediumslateblue","#7B68EE"],["Mediumspringgreen","#00FA9A"],["Mediumturquoise","#48D1CC"],["Mediumvioletred","#C71585"],["Midnightblue","#191970"],["Mintcream","#F5FFFA"],["Mistyrose","#FFE4E1"],["Moccasin","#FFE4B5"],["Navajowhite","#FFDEAD"],["Navy","#000080"],["Navyblue","#A0B0E0"],["Oldlace","#FDF5E6"],["Olive","#808000"],["Olivedrab","#6B8E23"],["Orange","#FFA500"],["Orangered","#FF4500"],["Orchid","#DA70D6"],["Palegoldenrod","#EEE8AA"],["Palegreen","#98FB98"],["Paleturquoise","#AFEEEE"],["Palevioletred","#DB7093"],["Papayawhip","#FFEFD5"],["Peachpuff","#FFDAB9"],["Peru","#CD853F"],["Pink","#FFC0CB"],["Plum","#DDA0DD"],["Powderblue","#B0E0E6"],["Purple","#800080"],["Red","#FF0000"],["Rosybrown","#BC8F8F"],["Royalblue","#4169E1"],["Saddlebrown","#8B4513"],["Salmon","#FA8072"],["Sandybrown","#F4A460"],["Seagreen","#2E8B57"],["Seashell","#FFF5EE"],["Sienna","#A0522D"],["Silver","#C0C0C0"],["Skyblue","#87CEEB"],["Slateblue","#6A5ACD"],["Slategray","#708090"],["Snow","#FFFAFA"],["Springgreen","#00FF7F"],["Steelblue","#4682B4"],["Tan","#D2B48C"],["Teal","#008080"],["Thistle","#D8BFD8"],["Tomato","#FF6347"],["Turquoise","#40E0D0"],["Violet","#EE82EE"],["Violetred","#D02090"],["Wheat","#F5DEB3"],["White","#FFFFFF"],["Whitesmoke","#F5F5F5"],["Yellow","#FFFF00"],["Yellowgreen","#9ACD32"]]),this._minLayersGradient=5,this._maxLayersGradient=15}static get instance(){return e._instance||(this._instance=new e),this._instance}get mapColors(){return this._mapColors}get randomColor(){let e,t=this.RandomInt(1,this._mapColors.size),a=0;for(let s of this._mapColors.keys())if(a++,a===t){e=this._mapColors.get(s);break}return e}get minLayersGradient(){return this._minLayersGradient}set minLayersGradient(e){this._minLayersGradient=e}get maxLayersGradient(){return this._maxLayersGradient}set maxLayersGradient(e){this._maxLayersGradient=e}get gradientDirection(){return this.RandomInt(1,4)}CreateColorScheme(t=[]){let a=new o;if(0==t.length){let t,s,n=this.RandomInt(this.minLayersGradient,this.maxLayersGradient);for(let i=0;i<n;i++)t=i/n,s=e.instance.randomColor,a.Add([t,s]);t=1,s=e.instance.randomColor,a.Add([t,s])}else t.forEach(e=>{a.Add(e)});return a}FillSchemeColor(e,t=null){t||(t=this.randomColor),e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.fillStyle=t,e.fill()}FillSchemeLineGradient(e,t){e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.fillStyle=this.RestoreFillRectLineGradient(e,0,0,e.canvas.width,e.canvas.height,t),e.fill()}FillSchemeRadialGradient(e,t){e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.fillStyle=this.GetFillRectRadialGradient(e,this.GetRadialParams(0,0,e.canvas.width,e.canvas.height,t.radialDirection),t.colorScheme),e.fill()}FillLineGradient(e,t){let a;a=this.GetLinerGradient(t,e,0,0,e.canvas.width,e.canvas.height),this.GetLinerGradientColorScheme(a),e.fillStyle=a,e.fillRect(0,0,e.canvas.width,e.canvas.height)}FillRectRadialGradiant(e,t,a,s,n,i,o,r,m,h,l,d){let c=e.createRadialGradient(i,o,r,m,h,l);d.list.forEach(e=>{c.addColorStop(e[0],e[1])}),e.fillStyle=c,e.fillRect(t,a,s,n)}GetFillRectRadialGradient(e,t,a){let s=e.createRadialGradient(t.oneX,t.oneY,t.oneR,t.twoX,t.twoY,t.twoR);return a.list.forEach(e=>{s.addColorStop(e[0],e[1])}),s}GetRadialParams(e,t,a,s,i){let o=new r(0,0,0,0,0,0);switch(i){case n.Centre:o.oneR=Math.ceil(Math.min(a,s)/30),o.oneX=Math.ceil(e+a/2),o.oneY=Math.ceil(t+s/2),o.twoR=Math.ceil(.9*Math.min(a,s)),o.twoX=Math.ceil(e+a/2),o.twoY=Math.ceil(t+s/2);break;case n.LeftRight:o.oneR=Math.ceil(s/2),o.oneX=Math.ceil(e+2*o.oneR/3),o.oneY=Math.ceil(t+s/2),o.twoR=o.oneR,o.twoX=Math.ceil(e+a+o.twoR),o.twoY=Math.ceil(t+s/2);break;case n.RightLeft:o.oneR=Math.ceil(s/2),o.oneX=Math.ceil(e+a-2*o.oneR/3),o.oneY=Math.ceil(t+s/2),o.twoR=o.oneR,o.twoX=Math.ceil(e-o.twoR),o.twoY=Math.ceil(t+s/2);break;case n.TopBottom:o.oneR=Math.ceil(a/2),o.oneX=Math.ceil(e+a/2),o.oneY=Math.ceil(t+2*o.oneR/3),o.twoR=o.oneR,o.twoX=Math.ceil(e+a/2),o.twoY=Math.ceil(t+s+o.oneR);break;case n.BottomTop:o.oneR=Math.ceil(a/2),o.oneX=Math.ceil(e+a/2),o.oneY=Math.ceil(t+s-2*o.oneR/3),o.twoR=o.oneR,o.twoX=Math.ceil(e+a/2),o.twoY=Math.ceil(t-o.oneR)}return o}GetFillBoxLineGradient(e,t,a,s,n){let i;return n.direction=this.gradientDirection,i=this.GetLinerGradient(n.direction,e,t,a,s,s),n.colorScheme=this.GetLinerGradientColorScheme(i),i}GetFillRectLineGradient(e,t,a,s,n,i){let o;return i.direction=this.gradientDirection,o=this.GetLinerGradient(i.direction,e,t,a,s,n),i.colorScheme=this.GetLinerGradientColorScheme(o),o}RestoreFillBoxLineGradient(e,t,a,s,n){let i;i=this.GetLinerGradient(n.direction,e,t,a,s,s);for(let e of n.colorScheme.list)i.addColorStop(e[0],e[1]);return i}RestoreFillRectLineGradient(e,t,a,s,n,i){let o;o=this.GetLinerGradient(i.direction,e,t,a,s,n);for(let e of i.colorScheme.list)o.addColorStop(e[0],e[1]);return o}RandomInt(e,t){return Math.floor(Math.random()*(t-e+1))+e}GetLinerGradient(e,t,a,n,i,o){return e===s.LeftToRight?t.createLinearGradient(a,n,a+i,n):e===s.TopToBottom?t.createLinearGradient(a,n,a,n+o):e===s.LeftTopToBottomRight?t.createLinearGradient(a,n,a+o,n+i):e===s.RightTopToLeftBottom?t.createLinearGradient(a,n+i,a+o,n):t.createLinearGradient(a,n,a,n+o)}GetLinerGradientColorScheme(e){let t,a,s=new o,n=this.RandomInt(this.minLayersGradient,this.maxLayersGradient);for(let i=0;i<n;i++)t=i/n,a=this.randomColor,s.Add([t,a]),e.addColorStop(t,a);return t=1,a=this.randomColor,s.Add([t,a]),e.addColorStop(t,a),s}}return e._instance=void 0,e})()},function(e,t,a){"use strict";var s,n;a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o})),String.prototype.padStart||(String.prototype.padStart=function(e,t){return e>>=0,t=String(t||" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))}),function(e){e[e.Add=0]="Add",e[e.Edit=1]="Edit",e[e.Reproduce=2]="Reproduce",e[e.Info=3]="Info",e[e.Remove=4]="Remove",e[e.Find=5]="Find",e[e.ClearFind=6]="ClearFind",e[e.SelectLocalFiles=7]="SelectLocalFiles",e[e.IsSelected=8]="IsSelected",e[e.ToState=9]="ToState"}(s||(s={})),function(e){e[e.Disable=0]="Disable",e[e.Enable=1]="Enable"}(n||(n={}));let i=e=>"block"===e.style.display||"block"===window.getComputedStyle(e,null).display||"flex"===e.style.display||"flex"===window.getComputedStyle(e,null).display,o=e=>{(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e){window.setTimeout(e,300)})(e)};(()=>{class e{constructor(e,t,a,s,n){this._modal=e,this._header=t,this._content=a,this._yes=s,this._no=n}static get instance(){return this._instance}static Create(t,a,s,n,i){e._instance||(this._instance=new e(t,a,s,n,i))}get nameEventDeleteConfirm(){return"modalConfirm-delete-confirm"}get nameEventDeleteRefuse(){return"modalConfirm-delete-refuse"}get nameEventSureConfirm(){return"modalConfirm-sure-confirm"}get nameEventSureRefuse(){return"modalConfirm-sure-refuse"}get nameEventCaution(){return"modalConfirm-caution"}get eventDeleteConfirm(){return new CustomEvent(this.nameEventDeleteConfirm,{bubbles:!0})}get eventDeleteRefuse(){return new CustomEvent(this.nameEventDeleteRefuse,{bubbles:!0})}get eventCaution(){return new CustomEvent(this.nameEventCaution,{bubbles:!0})}OpenConfirmDelete(e,t=null){this._header.innerText="Подтвердите удаление",this._content.innerText=e,this.SetButtonDefault(),t?(this._yes.onclick=()=>{document.dispatchEvent(new CustomEvent(this.nameEventDeleteConfirm,{bubbles:!0,detail:{resolve:t("yes")}}))},this._no.onclick=()=>{document.dispatchEvent(new CustomEvent(this.nameEventDeleteRefuse,{bubbles:!0,detail:{resolve:t("no")}}))}):(this._yes.onclick=()=>{document.dispatchEvent(this.eventDeleteConfirm)},this._no.onclick=()=>{document.dispatchEvent(this.eventDeleteRefuse)}),this._modal.style.display="block"}OpenSure(e){this._header.innerText="Are you sure?",this._content.innerText="Please confirm the action",this.SetButtonDefault(),this._yes.onclick=()=>{document.dispatchEvent(new CustomEvent(this.nameEventSureConfirm,{bubbles:!0,detail:{resolve:e("yes")}}))},this._no.onclick=()=>{document.dispatchEvent(new CustomEvent(this.nameEventSureRefuse,{bubbles:!0,detail:{resolve:e("no")}}))},this._modal.style.display="block"}OpenCaution(e){this._header.innerText="!!! Внимание",this._content.innerText=e,this.SetButtonCaution(),this._yes.onclick=()=>{document.dispatchEvent(this.eventCaution)},this._modal.style.display="block"}SetButtonDefault(){this.ToVisibilityBtn(this._yes),this.ToVisibilityBtn(this._no),this._yes.innerText="Confirm",this._no.innerText="Refuse"}SetButtonCaution(){this.ToVisibilityBtn(this._yes),this.ToUnVisibilityBtn(this._no),this._yes.innerText="OK"}ToVisibilityBtn(e){e.style.position="static",e.style.visibility="visible"}ToUnVisibilityBtn(e){e.style.position="absolute ",e.style.visibility="hidden"}}e._instance=void 0})();(()=>{class e{constructor(e,t,a,s,n){this._name=e,this._typeAction=t,this._state=a,this._action=s,this._context=n}get name(){return this._name}get typeAction(){return this._typeAction}get state(){return this._state}set state(e){this._state=e,document.dispatchEvent(this.eventChangeState)}get isEnabled(){return this.state==n.Enable}get eventChangeState(){return new CustomEvent(e.eventNameChangeState,{bubbles:!0,detail:{command:this}})}Execute(){this.isEnabled&&this._action.call(this._context)}}e.eventNameChangeState="command-change-state"})()},,,function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(0);const i=new Map([["300 x 150",300],["600 x 300",600],["900 x 450",900],["1200 x 600",1200],["1600 x 800",1600],["1900 x 950",1900],["2560 x 1280",2560],["3200 x 1600",3200],["4800 x 2400",4800],["5600 x 2800",5600]]),o=new Map([["Ручное управление",0],["По центру",1],["Слева направо",2],["Справа налево",3],["Сверху вниз",4],["Снизу вверх",5],["Случайный выбор",6]]);class r{constructor(){this.app="Studying-radial-gradient-Params"}}class m{constructor(){this.colorScheme=[]}}class h{constructor(){this._scale=Array.from(i.entries()).find(e=>1900===e[1]),this._fillingDirection=Array.from(o.entries()).find(e=>"Случайный выбор"===e[0]),this._areaWidth=this._scale[1],this._areaHeight=Math.floor(this._areaWidth/2),this._x=0,this._y=0,this._width=1900,this._height=950,this._xOne=950,this._yOne=475,this._rOne=33,this._xTwo=950,this._yTwo=475,this._rTwo=940,this._direct=n.e.Centre,this._gradientScheme=n.a.instance.CreateColorScheme([[0,n.a.instance.mapColors.get("Palegoldenrod")],[.2,n.a.instance.mapColors.get("Darkolivegreen")],[.4,n.a.instance.mapColors.get("Blanchedalmond")],[.6,n.a.instance.mapColors.get("Peru")],[.8,n.a.instance.mapColors.get("Gold")],[1,n.a.instance.mapColors.get("Salmon")]]),this._isAutoColorScheme=!0,this._isTrackProportionsAreaRG=!0,this._isTranslucentModal=!1}get scale(){return this._scale}get fillingDirection(){return this._fillingDirection}get x(){return this._x}get y(){return this._y}get areaWidth(){return this._areaWidth}get areaHeight(){return this._areaHeight}get width(){return this._width}get height(){return this._height}get xOne(){return this._xOne}get yOne(){return this._yOne}get rOne(){return this._rOne}get xTwo(){return this._xTwo}get yTwo(){return this._yTwo}get rTwo(){return this._rTwo}get direct(){return this._direct}get gradientScheme(){return this._gradientScheme}get isAutoColorScheme(){return this._isAutoColorScheme}get isTrackProportionsAreaRG(){return this._isTrackProportionsAreaRG}get isTranslucentModal(){return this._isTranslucentModal}}let l=(()=>{class e{constructor(){this._default=new h,this._scale=this._default.scale,this._fillingDirection=this._default.fillingDirection,this._areaWidth=this.default.areaWidth,this._areaHeight=this.default.areaHeight,this._x=this._default.x,this._y=this._default.y,this._width=this._default.width,this._height=this._default.height,this._xOne=this._default.xOne,this._yOne=this._default.yOne,this._rOne=this._default.rOne,this._xTwo=this._default.xTwo,this._yTwo=this._default.yTwo,this._rTwo=this._default.rTwo,this._direct=this._default.direct,this._gradientScheme=this._default.gradientScheme,this._isAutoColorScheme=this._default.isAutoColorScheme,this._isTrackProportionsAreaRG=this._default.isTrackProportionsAreaRG,this._isTranslucentModal=this._default.isTranslucentModal,this._localKey=new r,this._localParms=new m,this._nameEventScaleChange="rgScaleChange",this._nameEventFillingDirectionChange="rgFillingDirectionChange",this._nameEventXChange="rgXChange",this._nameEventYChange="rgYChange",this._nameEventWidthChange="rgWidthChange",this._nameEventHeightChange="rgHeightChange",this._nameEventXOneChange="rgXOneChange",this._nameEventYOneChange="rgYOneChange",this._nameEventROneChange="rgROneChange",this._nameEventXTwoChange="rgXOneChange",this._nameEventYTwoChange="rgYOneChange",this._nameEventRTwoChange="rgROneChange",this._nameEventDirectionChange="rgDirectionChange",this._nameEventGradientSchemeChange="rgGradientSchemeChange",this._nameEventisAutoColorScheme="rgClick-isAutoColorScheme",this._nameEventIsTrackProportionsAreaRG="rgClick-IsTrackProportionsAreaRG",this._nameEventIsTranslucent="rgClick-IsTranslucentModal",this._localParms.scale=this._scale,this._localParms.fillingDirection=this._fillingDirection,this._localParms.x=this._x,this._localParms.y=this._y,this._localParms.width=this._width,this._localParms.height=this._height,this._localParms.xOne=this._xOne,this._localParms.yOne=this._yOne,this._localParms.rOne=this._rOne,this._localParms.xTwo=this._xTwo,this._localParms.yTwo=this._yTwo,this._localParms.rTwo=this._rTwo,this._localParms.direct=this._direct,this._gradientScheme.list.forEach(e=>this._localParms.colorScheme.push(e)),this._localParms.isAutoColorScheme=this._isAutoColorScheme,this._localParms.isTrackProportionsAreaRG=this._isTrackProportionsAreaRG,this._localParms.isTranslucentModal=this._isTranslucentModal,this.Load()}static get instance(){return e._instance||(e._instance=new e),e._instance}get nameEventScaleChange(){return this._nameEventScaleChange}get nameEventFillingDirectionChange(){return this._nameEventFillingDirectionChange}get nameEventXChange(){return this._nameEventXChange}get nameEventYChange(){return this._nameEventYChange}get nameEventWidthChange(){return this._nameEventWidthChange}get nameEventHeightChange(){return this._nameEventHeightChange}get nameEventXOneChange(){return this._nameEventXOneChange}get nameEventYOneChange(){return this._nameEventYOneChange}get nameEventROneChange(){return this._nameEventROneChange}get nameEventXTwoChange(){return this._nameEventXTwoChange}get nameEventYTwoChange(){return this._nameEventYTwoChange}get nameEventRTwoChange(){return this._nameEventRTwoChange}get nameEventDirectionChange(){return this._nameEventDirectionChange}get nameEventGradientSchemeChange(){return this._nameEventGradientSchemeChange}get nameEventisAutoColorScheme(){return this._nameEventisAutoColorScheme}get nameEventIsTrackProportionsAreaRG(){return this._nameEventIsTrackProportionsAreaRG}get nameEventIsTranslucent(){return this._nameEventIsTranslucent}get default(){return this._default}get scale(){return this._scale}set scale(e){this._scale=e,this._localParms.scale=this.scale,this.Save(),this.SetAreaScale(),document.dispatchEvent(new CustomEvent(this.nameEventScaleChange,{bubbles:!0,detail:{value:e}}))}get fillingDirection(){return this._fillingDirection}set fillingDirection(e){this._fillingDirection=e,this._localParms.fillingDirection=this.fillingDirection,this.Save(),document.dispatchEvent(new CustomEvent(this.nameEventFillingDirectionChange,{bubbles:!0,detail:{value:e}})),this.fillingDirection[1]in n.e&&(this.direct=this.fillingDirection[1])}get areaWidth(){return this._areaWidth}get areaHeight(){return this._areaHeight}get x(){return this._x}set x(e){this._x=e,this._localParms.x=this.x,this.SetRadialParameters(),this.Save(),document.dispatchEvent(new CustomEvent(this.nameEventXChange,{bubbles:!0,detail:{value:e}}))}get y(){return this._y}set y(e){this._y=e,this._localParms.y=this.y,this.SetRadialParameters(),this.Save(),document.dispatchEvent(new CustomEvent(this.nameEventYChange,{bubbles:!0,detail:{value:e}}))}get width(){return this._width}set width(e){this._width=e,this._localParms.width=this.width,this.SetRadialParameters(),this.Save(),document.dispatchEvent(new CustomEvent(this.nameEventWidthChange,{bubbles:!0,detail:{value:e}}))}get height(){return this._height}set height(e){this._height=e,this._localParms.height=this.height,this.SetRadialParameters(),this.Save(),document.dispatchEvent(new CustomEvent(this.nameEventHeightChange,{bubbles:!0,detail:{value:e}}))}get xOne(){return this._xOne}set xOne(e){this._xOne=e,this._localParms.xOne=this.xOne,this.Save(),"Ручное управление"===this.fillingDirection[0]&&document.dispatchEvent(new CustomEvent(this.nameEventXOneChange,{bubbles:!0,detail:{value:e}}))}get yOne(){return this._yOne}set yOne(e){this._yOne=e,this._localParms.yOne=this.yOne,this.Save(),"Ручное управление"===this.fillingDirection[0]&&document.dispatchEvent(new CustomEvent(this.nameEventYOneChange,{bubbles:!0,detail:{value:e}}))}get rOne(){return this._rOne}set rOne(e){this._rOne=e,this._localParms.rOne=this.rOne,this.Save(),"Ручное управление"===this.fillingDirection[0]&&document.dispatchEvent(new CustomEvent(this.nameEventROneChange,{bubbles:!0,detail:{value:e}}))}get xTwo(){return this._xTwo}set xTwo(e){this._xTwo=e,this._localParms.xTwo=this.xTwo,this.Save(),"Ручное управление"===this.fillingDirection[0]&&document.dispatchEvent(new CustomEvent(this.nameEventXTwoChange,{bubbles:!0,detail:{value:e}}))}get yTwo(){return this._yTwo}set yTwo(e){this._yTwo=e,this._localParms.yTwo=this.yTwo,this.Save(),"Ручное управление"===this.fillingDirection[0]&&document.dispatchEvent(new CustomEvent(this.nameEventYTwoChange,{bubbles:!0,detail:{value:e}}))}get rTwo(){return this._rTwo}set rTwo(e){this._rTwo=e,this._localParms.rTwo=this.rTwo,this.Save(),"Ручное управление"===this.fillingDirection[0]&&document.dispatchEvent(new CustomEvent(this.nameEventRTwoChange,{bubbles:!0,detail:{value:e}}))}get direct(){return this._direct}set direct(e){this._direct=e,this._localParms.direct=this.direct,this.Save(),document.dispatchEvent(new CustomEvent(this.nameEventDirectionChange,{bubbles:!0,detail:{value:e}}))}get gradientScheme(){return this._gradientScheme}set gradientScheme(e){this._gradientScheme=e,this._localParms.colorScheme=this.gradientScheme.list,this.Save(),document.dispatchEvent(new CustomEvent(this.nameEventGradientSchemeChange,{bubbles:!0,detail:{value:e}}))}get isAutoColorScheme(){return this._isAutoColorScheme}set isAutoColorScheme(e){this._isAutoColorScheme=e,this._localParms.isAutoColorScheme=this.isAutoColorScheme,this.Save(),document.dispatchEvent(new CustomEvent(this.nameEventisAutoColorScheme,{bubbles:!0,detail:{value:e}}))}get isTrackProportionsAreaRG(){return this._isTrackProportionsAreaRG}set isTrackProportionsAreaRG(e){this._isTrackProportionsAreaRG=e,this._localParms.isTrackProportionsAreaRG=this.isTrackProportionsAreaRG,this.Save(),document.dispatchEvent(new CustomEvent(this.nameEventIsTrackProportionsAreaRG,{bubbles:!0,detail:{value:e}}))}get isTranslucentModal(){return this._isTranslucentModal}set isTranslucentModal(e){this._isTranslucentModal=e,this._localParms.isTranslucentModal=this.isTranslucentModal,this.Save(),document.dispatchEvent(new CustomEvent(this.nameEventIsTranslucent,{bubbles:!0,detail:{value:e}}))}SetRadialParameters(){if("Ручное управление"!==this.fillingDirection[0]){let e=n.a.instance.GetRadialParams(this.x,this.y,this.width,this.height,this.direct);this._xOne=e.oneX,this._yOne=e.oneY,this._rOne=e.oneR,this._xTwo=e.twoX,this._yTwo=e.twoY,this._rTwo=e.twoR,this._localParms.xOne=this._xOne,this._localParms.yOne=this._yOne,this._localParms.rOne=this._rOne,this._localParms.xTwo=this._xTwo,this._localParms.yTwo=this._yTwo,this._localParms.rTwo=this._rTwo,this.Save()}}SetRandomFillingDiirection(){"Ручное управление"!==this.fillingDirection[0]&&"Случайный выбор"===this.fillingDirection[0]&&(this._direct=n.a.instance.RandomInt(n.e.Centre,n.e.BottomTop),this._localParms.direct=this._direct,this.Save())}Save(){localStorage.setItem(JSON.stringify(this._localKey),JSON.stringify(this._localParms))}Load(){localStorage.getItem(JSON.stringify(this._localKey))&&(this._localParms=JSON.parse(localStorage.getItem(JSON.stringify(this._localKey))),this._scale=this._localParms.scale,this._fillingDirection=this._localParms.fillingDirection,this.SetAreaScale(),this._x=this._localParms.x,this._y=this._localParms.y,this._width=this._localParms.width,this._height=this._localParms.height,this._xOne=this._localParms.xOne,this._yOne=this._localParms.yOne,this._rOne=this._localParms.rOne,this._xTwo=this._localParms.xTwo,this._yTwo=this._localParms.yTwo,this._rTwo=this._localParms.rTwo,this._direct=this._localParms.direct,this._gradientScheme.list.length=0,this._localParms.colorScheme.forEach(e=>this._gradientScheme.Add(e)),this._isAutoColorScheme=this._localParms.isAutoColorScheme,this._isTrackProportionsAreaRG=this._localParms.isTrackProportionsAreaRG,this._isTranslucentModal=this._localParms.isTranslucentModal)}SetAreaScale(){this._areaWidth=this._scale[1],this._areaHeight=Math.floor(this._areaWidth/2)}}return e._instance=void 0,e})(),d=(()=>{class e{constructor(e,t,a,s,n,i,o,r,m,h,l,d,c,u,_,g,p,w,P,S,v,I,C,E,b,T,f,R,y,O,x,F,A,D,k,Y,X,M,L,B,G,H,W,$,N){this._settings=e,this._overFill=t,this._showParms=a,this._boxForRGArea=s,this._rgArea=n,this._modalParms=i,this._modalParmsScaleArea=o,this._modalParmsFillingDirectionArea=r,this._modalParmsColorSchemeArea=m,this._modalParmsAllColorsArea=h,this._modalParmsX=l,this._modalParmsShowRangeX=d,this._modalParmsShowValueX=c,this._modalParmsY=u,this._modalParmsShowRangeY=_,this._modalParmsShowValueY=g,this._modalParmsWidth=p,this._modalParmsShowRangeWidth=w,this._modalParmsShowValueWidth=P,this._modalParmsHeight=S,this._modalParmsShowRangeHeight=v,this._modalParmsShowValueHeight=I,this._modalParmsOneX=C,this._modalParmsShowRangeOneX=E,this._modalParmsShowValueOneX=b,this._modalParmsOneY=T,this._modalParmsShowRangeOneY=f,this._modalParmsShowValueOneY=R,this._modalParmsOneR=y,this._modalParmsShowRangeOneR=O,this._modalParmsShowValueOneR=x,this._modalParmsTwoX=F,this._modalParmsShowRangeTwoX=A,this._modalParmsShowValueTwoX=D,this._modalParmsTwoY=k,this._modalParmsShowRangeTwoY=Y,this._modalParmsShowValueTwoY=X,this._modalParmsTwoR=M,this._modalParmsShowRangeTwoR=L,this._modalParmsShowValueTwoR=B,this._modalParmsIsAutoColorScheme=G,this._modalParmsIsTrackProportionsAreaRG=H,this._modalParmsIsTranslucentModal=W,this._modalParmsOK=$,this._menuSelect=N}static get instance(){if(!e._instance)throw new Error("Instance of RgDomItems was not created.");return e._instance}get settings(){return this._settings}get overFill(){return this._overFill}get boxForRGArea(){return this._boxForRGArea}get rgArea(){return this._rgArea}get showParms(){return this._showParms}get modalParms(){return this._modalParms}get modalParmsScaleArea(){return this._modalParmsScaleArea}get modalParmsFillingDirectionArea(){return this._modalParmsFillingDirectionArea}get modalParmsColorSchemeArea(){return this._modalParmsColorSchemeArea}get modalParmsAllColorsArea(){return this._modalParmsAllColorsArea}get modalParmsX(){return this._modalParmsX}get modalParmsShowRangeX(){return this._modalParmsShowRangeX}get modalParmsShowValueX(){return this._modalParmsShowValueX}get modalParmsY(){return this._modalParmsY}get modalParmsShowRangeY(){return this._modalParmsShowRangeY}get modalParmsShowValueY(){return this._modalParmsShowValueY}get modalParmsWidth(){return this._modalParmsWidth}get modalParmsShowRangeWidth(){return this._modalParmsShowRangeWidth}get modalParmsShowValueWidth(){return this._modalParmsShowValueWidth}get modalParmsHeight(){return this._modalParmsHeight}get modalParmsShowRangeHeight(){return this._modalParmsShowRangeHeight}get modalParmsShowValueHeight(){return this._modalParmsShowValueHeight}get modalParmsOneX(){return this._modalParmsOneX}get modalParmsShowRangeOneX(){return this._modalParmsShowRangeOneX}get modalParmsShowValueOneX(){return this._modalParmsShowValueOneX}get modalParmsOneY(){return this._modalParmsOneY}get modalParmsShowRangeOneY(){return this._modalParmsShowRangeOneY}get modalParmsShowValueOneY(){return this._modalParmsShowValueOneY}get modalParmsOneR(){return this._modalParmsOneR}get modalParmsShowRangeOneR(){return this._modalParmsShowRangeOneR}get modalParmsShowValueOneR(){return this._modalParmsShowValueOneR}get modalParmsTwoX(){return this._modalParmsTwoX}get modalParmsShowRangeTwoX(){return this._modalParmsShowRangeTwoX}get modalParmsShowValueTwoX(){return this._modalParmsShowValueTwoX}get modalParmsTwoY(){return this._modalParmsTwoY}get modalParmsShowRangeTwoY(){return this._modalParmsShowRangeTwoY}get modalParmsShowValueTwoY(){return this._modalParmsShowValueTwoY}get modalParmsTwoR(){return this._modalParmsTwoR}get modalParmsShowRangeTwoR(){return this._modalParmsShowRangeTwoR}get modalParmsShowValueTwoR(){return this._modalParmsShowValueTwoR}get modalParmsIsAutoColorScheme(){return this._modalParmsIsAutoColorScheme}get modalParmsIsTrackProportionsAreaRG(){return this._modalParmsIsTrackProportionsAreaRG}get modalParmsIsTranslucentModal(){return this._modalParmsIsTranslucentModal}get modalParmsOK(){return this._modalParmsOK}get menuSelect(){return this._menuSelect}static Create(t,a,s,n,i,o,r,m,h,l,d,c,u,_,g,p,w,P,S,v,I,C,E,b,T,f,R,y,O,x,F,A,D,k,Y,X,M,L,B,G,H,W,$,N,V){return e._instance||(e._instance=new e(t,a,s,n,i,o,r,m,h,l,d,c,u,_,g,p,w,P,S,v,I,C,E,b,T,f,R,y,O,x,F,A,D,k,Y,X,M,L,B,G,H,W,$,N,V)),e._instance}}return e._instance=void 0,e})(),c=(()=>{class e{constructor(e,t){this._params=e,this._domItems=t,this.CreateItemsOfScaleAreaPanel(this._domItems.modalParmsScaleArea),this.CreateItemsOfFillingDirectionAreaPanel(this._domItems.modalParmsFillingDirectionArea),this.CreateItemsOfAllColorsAreaPanel(this._domItems.modalParmsAllColorsArea),this.CreateItemsOfColorSchemeAreaPanel(this._domItems.modalParmsColorSchemeArea),this.InitRanages(),this.DefineEvents(),this.OnFillingDirectionChange(),this.Show()}static get instance(){if(!e._instance)throw new Error("Instance of ViewParams was not created.");return e._instance}static Create(t,a){return e._instance||(e._instance=new e(t,a)),e._instance}Open(){for(let e of document.getElementsByName("scale"))this._params.scale[1]==Number(e.dataset.scale)&&(e.checked=!0);for(let e of document.getElementsByName("filling-direction"))this._params.fillingDirection[1]==Number(e.dataset.fillingDirection)&&(e.checked=!0);this.InitRanages(),this._domItems.modalParmsIsAutoColorScheme.checked=this._params.isAutoColorScheme,this._domItems.modalParmsIsTrackProportionsAreaRG.checked=this._params.isTrackProportionsAreaRG,this._domItems.modalParmsIsTranslucentModal.checked=this._params.isTranslucentModal,this.SetOpacityModal(this._params.isTranslucentModal),this._domItems.modalParmsOK.onclick=()=>{this._domItems.modalParms.style.display="none"},this._domItems.modalParms.style.display="block"}DefineEvents(){for(let e of document.getElementsByName("scale"))e.addEventListener("click",()=>{this._params.scale=Array.from(i.entries()).find(t=>t[1]===Number(e.dataset.scale)),this.Show()},!1);for(let e of document.getElementsByName("filling-direction"))e.addEventListener("click",()=>{this._params.fillingDirection=Array.from(o.entries()).find(t=>t[1]===Number(e.dataset.fillingDirection)),this.Show()},!1);for(let e of document.querySelectorAll("[data-scheme=scheme]"))e.onclick=e=>{this.OnAllSchemeClick(e)};this.DefineEventsColorScheme(),this._domItems.modalParmsX.addEventListener("change",()=>{this.OnChangeX()},!1),this._domItems.modalParmsX.addEventListener("input",()=>{this.OnChangeX()},!1),this._domItems.modalParmsY.addEventListener("change",()=>{this.OnChangeY()},!1),this._domItems.modalParmsY.addEventListener("input",()=>{this.OnChangeY()},!1),this._domItems.modalParmsWidth.addEventListener("change",()=>{this.OnChangeWidth()},!1),this._domItems.modalParmsWidth.addEventListener("input",()=>{this.OnChangeWidth()},!1),this._domItems.modalParmsHeight.addEventListener("change",()=>{this.OnChangeHeight()},!1),this._domItems.modalParmsHeight.addEventListener("input",()=>{this.OnChangeHeight()},!1),this._domItems.modalParmsOneX.addEventListener("change",()=>{this.OnChangeOneX()},!1),this._domItems.modalParmsOneX.addEventListener("input",()=>{this.OnChangeOneX()},!1),this._domItems.modalParmsOneY.addEventListener("change",()=>{this.OnChangeOneY()},!1),this._domItems.modalParmsOneY.addEventListener("input",()=>{this.OnChangeOneY()},!1),this._domItems.modalParmsOneR.addEventListener("change",()=>{this.OnChangeOneR()},!1),this._domItems.modalParmsOneR.addEventListener("input",()=>{this.OnChangeOneR()},!1),this._domItems.modalParmsTwoX.addEventListener("change",()=>{this.OnChangeTwoX()},!1),this._domItems.modalParmsTwoX.addEventListener("input",()=>{this.OnChangeTwoX()},!1),this._domItems.modalParmsTwoY.addEventListener("change",()=>{this.OnChangeTwoY()},!1),this._domItems.modalParmsTwoY.addEventListener("input",()=>{this.OnChangeTwoY()},!1),this._domItems.modalParmsTwoR.addEventListener("change",()=>{this.OnChangeTwoR()},!1),this._domItems.modalParmsTwoR.addEventListener("input",()=>{this.OnChangeTwoR()},!1),this._domItems.modalParmsIsAutoColorScheme.addEventListener("click",()=>{this._params.isAutoColorScheme=this._domItems.modalParmsIsAutoColorScheme.checked},!1),this._domItems.modalParmsIsTranslucentModal.addEventListener("click",()=>{this._params.isTranslucentModal=this._domItems.modalParmsIsTranslucentModal.checked},!1),this._domItems.modalParmsIsTrackProportionsAreaRG.addEventListener("click",()=>{this._params.isTrackProportionsAreaRG=this._domItems.modalParmsIsTrackProportionsAreaRG.checked},!1),document.addEventListener(this._params.nameEventIsTranslucent,e=>{this.OnIsTranslucentModal(e)},!1),document.addEventListener(this._params.nameEventScaleChange,()=>{this.InitRanages()},!1),document.addEventListener("rg-OverFill",()=>{this.Show(),this.CreateItemsOfColorSchemeAreaPanel(this._domItems.modalParmsColorSchemeArea),this.DefineEventsColorScheme()},!1),document.addEventListener(this._params.nameEventFillingDirectionChange,()=>{this.Show(),this.OnFillingDirectionChange()},!1),window.addEventListener("resize",()=>{this.OnWindowChange()},!1),window.addEventListener("scroll",()=>{this.OnWindowChange()},!1)}DefineEventsColorScheme(){for(let e of document.querySelectorAll("[data-scheme=color-scheme]"))e.onclick=e=>{this.OnColorSchemeClick(e)}}OnChangeX(){this._params.x=Number(this._domItems.modalParmsX.value),this.ShowParmsX(),this.Show()}OnChangeY(){this._params.y=Number(this._domItems.modalParmsY.value),this.ShowParmsY(),this.Show()}OnChangeWidth(){this._params.width=Number(this._domItems.modalParmsWidth.value),this.ShowParmsWidth(),this.Show()}OnChangeHeight(){this._params.height=Number(this._domItems.modalParmsHeight.value),this.ShowParmsHeight(),this.Show()}OnChangeOneX(){this._params.xOne=Number(this._domItems.modalParmsOneX.value),this.ShowParmsOneX(),this.Show()}OnChangeOneY(){this._params.yOne=Number(this._domItems.modalParmsOneY.value),this.ShowParmsOneY(),this.Show()}OnChangeOneR(){this._params.rOne=Number(this._domItems.modalParmsOneR.value),this.ShowParmsOneR(),this.Show()}OnChangeTwoX(){this._params.xTwo=Number(this._domItems.modalParmsTwoX.value),this.ShowParmsTwoX(),this.Show()}OnChangeTwoY(){this._params.yTwo=Number(this._domItems.modalParmsTwoY.value),this.ShowParmsTwoY(),this.Show()}OnChangeTwoR(){this._params.rTwo=Number(this._domItems.modalParmsTwoR.value),this.ShowParmsTwoR(),this.Show()}OnFillingDirectionChange(){let e=!0;"Ручное управление"===this._params.fillingDirection[0]&&(e=!1),this._domItems.modalParmsOneX.disabled=e,this._domItems.modalParmsOneY.disabled=e,this._domItems.modalParmsOneR.disabled=e,this._domItems.modalParmsTwoX.disabled=e,this._domItems.modalParmsTwoY.disabled=e,this._domItems.modalParmsTwoR.disabled=e,this._domItems.modalParmsShowValueOneX.contentEditable=(!e).toString(),this._domItems.modalParmsShowValueOneY.contentEditable=(!e).toString(),this._domItems.modalParmsShowValueOneR.contentEditable=(!e).toString(),this._domItems.modalParmsShowValueTwoX.contentEditable=(!e).toString(),this._domItems.modalParmsShowValueTwoY.contentEditable=(!e).toString(),this._domItems.modalParmsShowValueTwoR.contentEditable=(!e).toString()}InitRanages(){this.InitRangeRect(),this._domItems.modalParmsX.value=this._params.x.toString(),this._domItems.modalParmsY.value=this._params.y.toString(),this._domItems.modalParmsWidth.value=this._params.width.toString(),this._domItems.modalParmsHeight.value=this._params.height.toString(),this.ShowParmsX(),this.ShowParmsY(),this.ShowParmsWidth(),this.ShowParmsHeight(),this.InitRangeOneCircle(),this._domItems.modalParmsOneX.value=this._params.xOne.toString(),this._domItems.modalParmsOneY.value=this._params.yOne.toString(),this._domItems.modalParmsOneR.value=this._params.rOne.toString(),this.ShowParmsOneX(),this.ShowParmsOneY(),this.ShowParmsOneR(),this.InitRangeTwoCircle(),this._domItems.modalParmsTwoX.value=this._params.xTwo.toString(),this._domItems.modalParmsTwoY.value=this._params.yTwo.toString(),this._domItems.modalParmsTwoR.value=this._params.rTwo.toString(),this.ShowParmsTwoX(),this.ShowParmsTwoY(),this.ShowParmsTwoR(),this.InitRangesTitle()}InitRangesTitle(){for(let e of document.querySelectorAll("[contenteditable]")){switch(e.dataset.name){case"X":e.title=`${this._domItems.modalParmsX.min}/${this._domItems.modalParmsX.max}`;break;case"Y":e.title=`${this._domItems.modalParmsY.min}/${this._domItems.modalParmsY.max}`;break;case"width":e.title=`${this._domItems.modalParmsWidth.min}/${this._domItems.modalParmsWidth.max}`;break;case"height":e.title=`${this._domItems.modalParmsHeight.min}/${this._domItems.modalParmsHeight.max}`;break;case"one-X":e.title=`${this._domItems.modalParmsOneX.min}/${this._domItems.modalParmsOneX.max}`;break;case"one-Y":e.title=`${this._domItems.modalParmsOneY.min}/${this._domItems.modalParmsOneY.max}`;break;case"one-R":e.title=`${this._domItems.modalParmsOneR.min}/${this._domItems.modalParmsOneR.max}`;break;case"two-X":e.title=`${this._domItems.modalParmsTwoX.min}/${this._domItems.modalParmsTwoX.max}`;break;case"two-Y":e.title=`${this._domItems.modalParmsTwoY.min}/${this._domItems.modalParmsTwoY.max}`;break;case"two-R":e.title=`${this._domItems.modalParmsTwoR.min}/${this._domItems.modalParmsTwoR.max}`}}}InitRangeRect(){this._domItems.modalParmsX.min="0",this._domItems.modalParmsX.max=this._params.areaWidth.toString(),this._domItems.modalParmsY.min="0",this._domItems.modalParmsY.max=this._params.areaHeight.toString(),this._domItems.modalParmsWidth.min="0",this._domItems.modalParmsWidth.max=this._params.areaWidth.toString(),this._domItems.modalParmsHeight.min="0",this._domItems.modalParmsHeight.max=this._params.areaHeight.toString()}InitRangeOneCircle(){this._domItems.modalParmsOneX.min=Math.floor(-this._params.areaWidth/2).toString(),this._domItems.modalParmsOneX.max=Math.floor(2*this._params.areaWidth).toString(),this._domItems.modalParmsOneY.min=Math.floor(-this._params.areaHeight/2).toString(),this._domItems.modalParmsOneY.max=Math.floor(2*this._params.areaHeight).toString(),this._domItems.modalParmsOneR.min="0",this._domItems.modalParmsOneR.max=Math.floor(2*Math.max(this._params.areaWidth,this._params.areaHeight)).toString()}InitRangeTwoCircle(){this._domItems.modalParmsTwoX.min=Math.floor(-this._params.areaWidth/2).toString(),this._domItems.modalParmsTwoX.max=Math.floor(2*this._params.areaWidth).toString(),this._domItems.modalParmsTwoY.min=Math.floor(-this._params.areaHeight/2).toString(),this._domItems.modalParmsTwoY.max=Math.floor(2*this._params.areaHeight).toString(),this._domItems.modalParmsTwoR.min="0",this._domItems.modalParmsTwoR.max=Math.floor(2*Math.max(this._params.areaWidth,this._params.areaHeight)).toString()}ShowParmsX(e=!1){return e||(this._domItems.modalParmsShowValueX.innerHTML=this._domItems.modalParmsX.value,this._domItems.modalParmsShowRangeX.innerHTML=`${this._domItems.modalParmsX.min}/${this._domItems.modalParmsX.max}`),`${this._domItems.modalParmsX.min}/${this._domItems.modalParmsX.max}`}ShowParmsY(e=!1){return e||(this._domItems.modalParmsShowValueY.innerHTML=this._domItems.modalParmsY.value,this._domItems.modalParmsShowRangeY.innerHTML=`${this._domItems.modalParmsY.min}/${this._domItems.modalParmsY.max}`),`${this._domItems.modalParmsY.min}/${this._domItems.modalParmsY.max}`}ShowParmsWidth(e=!1){return e||(this._domItems.modalParmsShowValueWidth.innerHTML=this._domItems.modalParmsWidth.value,this._domItems.modalParmsShowRangeWidth.innerHTML=`${this._domItems.modalParmsWidth.min}/${this._domItems.modalParmsWidth.max}`),`${this._domItems.modalParmsWidth.min}/${this._domItems.modalParmsWidth.max}`}ShowParmsHeight(e=!1){return e||(this._domItems.modalParmsShowValueHeight.innerHTML=this._domItems.modalParmsHeight.value,this._domItems.modalParmsShowRangeHeight.innerHTML=`${this._domItems.modalParmsHeight.min}/${this._domItems.modalParmsHeight.max}`),`${this._domItems.modalParmsHeight.min}/${this._domItems.modalParmsHeight.max}`}ShowParmsOneX(e=!1){return e||(this._domItems.modalParmsShowValueOneX.innerHTML=this._domItems.modalParmsOneX.value,this._domItems.modalParmsShowRangeOneX.innerHTML=`${this._domItems.modalParmsOneX.min}/${this._domItems.modalParmsOneX.max}`),`${this._domItems.modalParmsOneX.min}/${this._domItems.modalParmsOneX.max}`}ShowParmsOneY(e=!1){return e||(this._domItems.modalParmsShowValueOneY.innerHTML=this._domItems.modalParmsOneY.value,this._domItems.modalParmsShowRangeOneY.innerHTML=`${this._domItems.modalParmsOneY.min}/${this._domItems.modalParmsOneY.max}`),`${this._domItems.modalParmsOneY.min}/${this._domItems.modalParmsOneY.max}`}ShowParmsOneR(e=!1){return e||(this._domItems.modalParmsShowValueOneR.innerHTML=this._domItems.modalParmsOneR.value,this._domItems.modalParmsShowRangeOneR.innerHTML=`${this._domItems.modalParmsOneR.min}/${this._domItems.modalParmsOneR.max}`),`${this._domItems.modalParmsOneR.min}/${this._domItems.modalParmsOneR.max}`}ShowParmsTwoX(e=!1){return e||(this._domItems.modalParmsShowValueTwoX.innerHTML=this._domItems.modalParmsTwoX.value,this._domItems.modalParmsShowRangeTwoX.innerHTML=`${this._domItems.modalParmsTwoX.min}/${this._domItems.modalParmsTwoX.max}`),`${this._domItems.modalParmsTwoX.min}/${this._domItems.modalParmsTwoX.max}`}ShowParmsTwoY(e=!1){return e||(this._domItems.modalParmsShowValueTwoY.innerHTML=this._domItems.modalParmsTwoY.value,this._domItems.modalParmsShowRangeTwoY.innerHTML=`${this._domItems.modalParmsTwoY.min}/${this._domItems.modalParmsTwoY.max}`),`${this._domItems.modalParmsTwoY.min}/${this._domItems.modalParmsTwoY.max}`}ShowParmsTwoR(e=!1){return e||(this._domItems.modalParmsShowValueTwoR.innerHTML=this._domItems.modalParmsTwoR.value,this._domItems.modalParmsShowRangeTwoR.innerHTML=`${this._domItems.modalParmsTwoR.min}/${this._domItems.modalParmsTwoR.max}`),`${this._domItems.modalParmsTwoR.min}/${this._domItems.modalParmsTwoR.max}`}Show(){this._domItems.showParms.innerHTML="";let e=document.createElement("p");"Ручное управление"===this._params.fillingDirection[0]?e.innerHTML=`Масштабность:&nbsp;<span data-menu="scale">${this._params.scale[0]}</span>Направление заливки:&nbsp;<span data-menu="filling-direction">${this._params.fillingDirection[0]}</span><b> &nbsp;Rectangle</b>&nbsp; <span data-range="X">X:</span>&nbsp<span contenteditable="true" data-name="X" data-validate="true">${this._params.x}</span>&nbsp; <span data-range="Y">Y:</span>&nbsp<span contenteditable="true" data-name="Y" data-validate="true">${this._params.y}</span>&nbsp; <span data-range="width">Width:</span>&nbsp<span contenteditable="true" data-name="width" data-validate="true">${this._params.width}</span>&nbsp; <span data-range="height">Height:</span>&nbsp<span contenteditable="true" data-name="height" data-validate="true">${this._params.height}</span><br/><b>First&nbspcircle</b>&nbsp; <span data-range="one-X">X1:</span>&nbsp<span contenteditable="true" data-name="one-X" data-validate="true">${this._params.xOne}</span>&nbsp; <span data-range="one-Y">Y1:</span>&nbsp<span contenteditable="true" data-name="one-Y" data-validate="true">${this._params.yOne}</span>&nbsp; <span data-range="one-R">R1:</span>&nbsp<span contenteditable="true" data-name="one-R" data-validate="true">${this._params.rOne}</span>&nbsp; <b>Second&nbspcircle</b>&nbsp; <span data-range="two-X">X2:</span>&nbsp<span contenteditable="true" data-name="two-X" data-validate="true">${this._params.xTwo}</span>&nbsp; <span data-range="two-Y">Y2:</span>&nbsp<span contenteditable="true" data-name="two-Y" data-validate="true">${this._params.yTwo}</span>&nbsp; <span data-range="two-R">R2:</span>&nbsp<span contenteditable="true" data-name="two-R" data-validate="true">${this._params.rTwo}</span><br/>Цветовая схема:&nbsp;<span data-block-menu="block-scheme"></span>`:e.innerHTML=`Масштабность:&nbsp;<span data-menu="scale">${this._params.scale[0]}</span> &nbsp; Направление заливки:&nbsp;<span data-menu="filling-direction">${this._params.fillingDirection[0]}</span><b> &nbsp;Rectangle</b>&nbsp; <span data-range="X">X:</span>&nbsp<span contenteditable="true" data-name="X" data-validate="true">${this._params.x}</span>&nbsp; <span data-range="Y">Y:</span>&nbsp<span contenteditable="true" data-name="Y" data-validate="true">${this._params.y}</span>&nbsp; <span data-range="width">Width:</span>&nbsp<span contenteditable="true" data-name="width" data-validate="true">${this._params.width}</span>&nbsp; <span data-range="height">Height:</span>&nbsp<span contenteditable="true" data-name="height" data-validate="true">${this._params.height}</span><br/><b>First&nbspcircle</b>&nbsp; X1:&nbsp`+this._params.xOne+"&nbsp; Y1:&nbsp"+this._params.yOne+"&nbsp; R1:&nbsp"+this._params.rOne+"&nbsp; <b>Second&nbspcircle</b>&nbsp; X2:&nbsp"+this._params.xTwo+"&nbsp; Y2:&nbsp"+this._params.yTwo+"&nbsp; R2:&nbsp"+this._params.rTwo+'<br/>Цветовая схема:&nbsp;<span data-block-menu="block-scheme"></span>',this._domItems.showParms.appendChild(e),this.ShowScheme(),this.DefineEventsContenteditable(),this.DefineEventsRange(),this.DefineEventsParamSelect(),this.InitRangesTitle()}ShowScheme(){let e,t=document.querySelector("[data-block-menu=block-scheme]");for(let a of this._params.gradientScheme.list){e=a[1];let s=document.createElement("div");s.style.backgroundColor=e,s.title=Array.from(n.a.instance.mapColors.entries()).find(t=>t[1]===e)[0],s.dataset.menu="scheme-"+e,t.appendChild(s)}}DefineEventsContenteditable(){for(let e of document.querySelectorAll("[contenteditable]"))e.oninput=e=>{this.RangeContenteditableValidate(e)},e.onblur=e=>{this.SetRangeContenteditable(e)},e.onkeydown=e=>{this.RangeEnter(e)}}DefineEventsRange(){for(let e of document.querySelectorAll("[data-range]"))e.onclick=e=>{this.OnParamRangeClick(e)}}DefineEventsParamSelect(){for(let e of document.querySelectorAll("[data-menu]"))e.onclick=e=>{this.OnParamMenuClick(e)};for(let e of document.querySelectorAll("[data-block-menu]"))e.onclick=e=>{this.OnParamBlockMenuClick(e)}}RangeContenteditableValidate(e){let t=e.target;/^0+/.test(t.innerText)&&t.innerText.length>1&&(t.innerText=t.innerText.replace(/^0+/,"")),/\n/g.test(t.innerText)&&(t.innerText=t.innerText.replace(/\n/g,"")),t.dataset.validate=this.IsRangeContenteditableValidate(t.innerText,t.dataset.name).toString()}RangeEnter(e){if(13==e.keyCode){let t=e.target;this.IsRangeContenteditableValidate(t.innerText,t.dataset.name)&&!this.IsEqualNewOld(Number(t.innerText),t.dataset.name)&&t.blur()}}SetRangeContenteditable(e){let t=e.target;if(this.IsRangeContenteditableValidate(t.innerText,t.dataset.name)&&!this.IsEqualNewOld(Number(t.innerText),t.dataset.name))switch(t.dataset.name){case"X":this._domItems.modalParmsX.value=t.innerText,this._domItems.modalParmsX.dispatchEvent(new Event("input")),this._domItems.modalParmsX.dispatchEvent(new Event("change"));break;case"Y":this._domItems.modalParmsY.value=t.innerText,this._domItems.modalParmsY.dispatchEvent(new Event("input")),this._domItems.modalParmsY.dispatchEvent(new Event("change"));break;case"width":this._domItems.modalParmsWidth.value=t.innerText,this._domItems.modalParmsWidth.dispatchEvent(new Event("input")),this._domItems.modalParmsWidth.dispatchEvent(new Event("change"));break;case"height":this._domItems.modalParmsHeight.value=t.innerText,this._domItems.modalParmsHeight.dispatchEvent(new Event("input")),this._domItems.modalParmsHeight.dispatchEvent(new Event("change"));break;case"one-X":this._domItems.modalParmsOneX.value=t.innerText,this._domItems.modalParmsOneX.dispatchEvent(new Event("input")),this._domItems.modalParmsOneX.dispatchEvent(new Event("change"));break;case"one-Y":this._domItems.modalParmsOneY.value=t.innerText,this._domItems.modalParmsOneY.dispatchEvent(new Event("input")),this._domItems.modalParmsOneY.dispatchEvent(new Event("change"));break;case"one-R":this._domItems.modalParmsOneR.value=t.innerText,this._domItems.modalParmsOneR.dispatchEvent(new Event("input")),this._domItems.modalParmsOneR.dispatchEvent(new Event("change"));break;case"two-X":this._domItems.modalParmsTwoX.value=t.innerText,this._domItems.modalParmsTwoX.dispatchEvent(new Event("input")),this._domItems.modalParmsTwoX.dispatchEvent(new Event("change"));break;case"two-Y":this._domItems.modalParmsTwoY.value=t.innerText,this._domItems.modalParmsTwoY.dispatchEvent(new Event("input")),this._domItems.modalParmsTwoY.dispatchEvent(new Event("change"));break;case"two-R":this._domItems.modalParmsTwoR.value=t.innerText,this._domItems.modalParmsTwoR.dispatchEvent(new Event("input")),this._domItems.modalParmsTwoR.dispatchEvent(new Event("change"))}else this._domItems.modalParmsX.dispatchEvent(new Event("input")),this._domItems.modalParmsY.dispatchEvent(new Event("input")),this._domItems.modalParmsWidth.dispatchEvent(new Event("input")),this._domItems.modalParmsHeight.dispatchEvent(new Event("input")),this._domItems.modalParmsOneX.dispatchEvent(new Event("input")),this._domItems.modalParmsOneY.dispatchEvent(new Event("input")),this._domItems.modalParmsOneR.dispatchEvent(new Event("input")),this._domItems.modalParmsTwoX.dispatchEvent(new Event("input")),this._domItems.modalParmsTwoY.dispatchEvent(new Event("input")),this._domItems.modalParmsTwoR.dispatchEvent(new Event("input"))}IsRangeContenteditableValidate(e,t){let a=!1;if(/^[0-9]+$/.test(e)){a=!0;let s=Number(e);switch(t){case"X":(s<Number(this._domItems.modalParmsX.min)||s>Number(this._domItems.modalParmsX.max))&&(a=!1);break;case"Y":(s<Number(this._domItems.modalParmsY.min)||s>Number(this._domItems.modalParmsY.max))&&(a=!1);break;case"width":(s<Number(this._domItems.modalParmsWidth.min)||s>Number(this._domItems.modalParmsWidth.max))&&(a=!1);break;case"height":(s<Number(this._domItems.modalParmsHeight.min)||s>Number(this._domItems.modalParmsHeight.max))&&(a=!1);break;case"one-X":(s<Number(this._domItems.modalParmsOneX.min)||s>Number(this._domItems.modalParmsOneX.max))&&(a=!1);break;case"one-Y":(s<Number(this._domItems.modalParmsOneY.min)||s>Number(this._domItems.modalParmsOneY.max))&&(a=!1);break;case"one-R":(s<Number(this._domItems.modalParmsOneR.min)||s>Number(this._domItems.modalParmsOneR.max))&&(a=!1);break;case"two-X":(s<Number(this._domItems.modalParmsTwoX.min)||s>Number(this._domItems.modalParmsTwoX.max))&&(a=!1);break;case"two-Y":(s<Number(this._domItems.modalParmsTwoY.min)||s>Number(this._domItems.modalParmsTwoY.max))&&(a=!1);break;case"two-R":(s<Number(this._domItems.modalParmsTwoR.min)||s>Number(this._domItems.modalParmsTwoR.max))&&(a=!1)}}return a}IsEqualNewOld(e,t){let a=!1;switch(t){case"X":e==this._params.x&&(a=!0);break;case"Y":e==this._params.y&&(a=!0);break;case"width":e==this._params.width&&(a=!0);break;case"height":e==this._params.height&&(a=!0);break;case"one-X":e==this._params.xOne&&(a=!0);break;case"one-Y":e==this._params.yOne&&(a=!0);break;case"one-R":e==this._params.rOne&&(a=!0);break;case"two-X":e==this._params.xTwo&&(a=!0);break;case"two-Y":e==this._params.yTwo&&(a=!0);break;case"two-R":e==this._params.rTwo&&(a=!0)}return a}OnParamRangeClick(e){let t=e.target;if(Object(s.a)(this._domItems.menuSelect)&&this._domItems.menuSelect.dataset.type===t.dataset.range)return this._domItems.menuSelect.dataset.type="empty",void(this._domItems.menuSelect.style.display="none");this._domItems.menuSelect.dataset.type=t.dataset.range,this._domItems.menuSelect.innerHTML="";let a=t.getBoundingClientRect();switch(this._domItems.menuSelect.style.left=a.left+5+"px",this._domItems.menuSelect.style.top=a.bottom+"px",this._domItems.menuSelect.className="pop-up-range",t.dataset.range){case"X":this.CreatePopUpRange(t.dataset.range,this.ShowParmsX(!0),this._params.x,[0,this._params.areaWidth]);break;case"Y":this.CreatePopUpRange(t.dataset.range,this.ShowParmsY(!0),this._params.y,[0,this._params.areaHeight]);break;case"width":this.CreatePopUpRange(t.dataset.range,this.ShowParmsWidth(!0),this._params.width,[0,this._params.areaWidth]);break;case"height":this.CreatePopUpRange(t.dataset.range,this.ShowParmsHeight(!0),this._params.height,[0,this._params.areaHeight]);break;case"one-X":this.CreatePopUpRange(t.dataset.range,this.ShowParmsOneX(!0),this._params.xOne,[Math.floor(-this._params.areaWidth/2),Math.floor(2*this._params.areaWidth)]);break;case"one-Y":this.CreatePopUpRange(t.dataset.range,this.ShowParmsOneY(!0),this._params.yOne,[Math.floor(-this._params.areaHeight/2),Math.floor(2*this._params.areaHeight)]);break;case"one-R":this.CreatePopUpRange(t.dataset.range,this.ShowParmsOneR(!0),this._params.rOne,[0,Math.floor(2*Math.max(this._params.areaWidth,this._params.areaHeight))]);break;case"two-X":this.CreatePopUpRange(t.dataset.range,this.ShowParmsTwoX(!0),this._params.xTwo,[Math.floor(-this._params.areaWidth/2),Math.floor(2*this._params.areaWidth)]);break;case"two-Y":this.CreatePopUpRange(t.dataset.range,this.ShowParmsTwoY(!0),this._params.yTwo,[Math.floor(-this._params.areaHeight/2),Math.floor(2*this._params.areaHeight)]);break;case"two-R":this.CreatePopUpRange(t.dataset.range,this.ShowParmsTwoR(!0),this._params.rTwo,[0,Math.floor(2*Math.max(this._params.areaWidth,this._params.areaHeight))]);break;default:this._domItems.menuSelect.innerHTML=`<p>${t.dataset.range}</p>`}this._domItems.menuSelect.style.display="flex"}CreatePopUpRange(e,t,a,s){let n=document.createElement("div");n.innerHTML=t;let i=document.createElement("div");i.className="range-wrapper";let o=document.createElement("input");o.type="range",o.dataset.popUpRange=e,o.addEventListener("change",e=>{this.OnPopUpRangeChange(e)},!1),o.addEventListener("input",e=>{this.OnPopUpRangeChange(e)},!1),o.min=s[0].toString(),o.max=s[1].toString(),o.value=a.toString(),i.appendChild(o),this._domItems.menuSelect.appendChild(n),this._domItems.menuSelect.appendChild(i)}OnPopUpRangeChange(e){let t=e.target;switch(t.dataset.popUpRange){case"X":this._params.x=Number(t.value);break;case"Y":this._params.y=Number(t.value);break;case"width":this._params.width=Number(t.value);break;case"height":this._params.height=Number(t.value);break;case"one-X":this._params.xOne=Number(t.value);break;case"one-Y":this._params.yOne=Number(t.value);break;case"one-R":this._params.rOne=Number(t.value);break;case"two-X":this._params.xTwo=Number(t.value);break;case"two-Y":this._params.yTwo=Number(t.value);break;case"two-R":this._params.rTwo=Number(t.value)}this.Show()}OnParamBlockMenuClick(e){let t=e.target;if(Object(s.a)(this._domItems.menuSelect)&&this._domItems.menuSelect.dataset.type===t.dataset.blockMenu)return this._domItems.menuSelect.dataset.type="empty",void(this._domItems.menuSelect.style.display="none");let a=t.dataset.blockMenu;this._domItems.menuSelect.dataset.type=a,this._domItems.menuSelect.innerHTML="";let n=t.getBoundingClientRect();switch(this._domItems.menuSelect.style.left=n.left+5+"px",this._domItems.menuSelect.style.top=n.bottom+"px",a){case"block-scheme":this.CreatingPanelToCustomizeColorScheme(),this.DefineEventsMenuAllScheme(),this.DefineEventsMenuColorScheme();break;default:this._domItems.menuSelect.innerHTML=`<p>${t.dataset.menu}</p>`}this._domItems.menuSelect.style.display="flex"}OnParamMenuClick(e){let t=e.target;if(Object(s.a)(this._domItems.menuSelect)&&this._domItems.menuSelect.dataset.type===t.dataset.menu)return this._domItems.menuSelect.dataset.type="empty",void(this._domItems.menuSelect.style.display="none");this._domItems.menuSelect.dataset.type=t.dataset.menu,this._domItems.menuSelect.innerHTML="";let a=t.getBoundingClientRect();this._domItems.menuSelect.style.left=a.left+5+"px",this._domItems.menuSelect.style.top=a.bottom+"px";let n=t.dataset.menu;switch("scheme"===n.substr(0,6)&&(n="scheme"),n){case"scheme":event.stopPropagation?event.stopPropagation():event.cancelBubble=!0,this.CreatingPanelToCustomizeColorScheme(),this.DefineEventsMenuAllScheme(),this.DefineEventsMenuColorScheme();break;case"scale":this.CreateItemsOfScaleAreaPanel(this._domItems.menuSelect,!0),this._domItems.menuSelect.className="overflow-auto add-conditions";break;case"filling-direction":this.CreateItemsOfFillingDirectionAreaPanel(this._domItems.menuSelect,!0),this._domItems.menuSelect.className="overflow-auto add-conditions";break;default:this._domItems.menuSelect.innerHTML=`<p>${t.dataset.menu}</p>`}this._domItems.menuSelect.style.display="flex"}DefineEventsMenuAllScheme(){for(let e of document.querySelectorAll("[data-scheme=menu-scheme]"))e.onclick=e=>{this.OnAllSchemeClick(e)}}DefineEventsMenuColorScheme(){for(let e of document.querySelectorAll("[data-scheme=menu-color-scheme]"))e.onclick=e=>{this.OnColorSchemeClick(e)}}CreateItemsOfScaleAreaPanel(e,t=!1){let a,s;for(let n of i.entries())a=document.createElement("input"),a.type="radio",a.name=t?"menu-scale":"scale",a.id=t?"menu-scale-"+n[1]:"scale-"+n[1],a.dataset.scale=""+n[1],s=document.createElement("label"),s.htmlFor=a.id,s.innerText=n[0],n[1]==this._params.scale[1]&&(a.checked=!0),t&&(a.onclick=e=>{let t=e.target;this._params.scale=Array.from(i.entries()).find(e=>e[1]===Number(t.dataset.scale)),this.Show(),this._domItems.menuSelect.style.display="none",this._domItems.menuSelect.dataset.type="empty"}),e.appendChild(a),e.appendChild(s)}CreateItemsOfFillingDirectionAreaPanel(e,t=!1){let a,s;for(let n of o.entries())a=document.createElement("input"),a.type="radio",a.name=t?"menu-filling-direction":"filling-direction",a.id=t?"menu-filling-direction-"+n[1]:"filling-direction-"+n[1],a.dataset.fillingDirection=""+n[1],s=document.createElement("label"),s.htmlFor=a.id,s.innerText=n[0],n[1]==this._params.fillingDirection[1]&&(a.checked=!0),t&&(a.onclick=e=>{let t=e.target;this._params.fillingDirection=Array.from(o.entries()).find(e=>e[1]===Number(t.dataset.fillingDirection)),this.Show(),this._domItems.menuSelect.style.display="none",this._domItems.menuSelect.dataset.type="empty"}),e.appendChild(a),e.appendChild(s)}CreatingPanelToCustomizeColorScheme(){let e=document.createElement("div"),t=document.createElement("div");e.className="color-scheme",e.dataset.isColorScheme="true",t.className="overflow-auto color-scheme",this.CreateItemsOfColorSchemeAreaPanel(e,!0),this.CreateItemsOfAllColorsAreaPanel(t,!0),this._domItems.menuSelect.appendChild(e),this._domItems.menuSelect.appendChild(t)}CreateItemsOfAllColorsAreaPanel(e,t=!1){let a,s,i,o=Array.from(n.a.instance.mapColors.entries()).sort((e,t)=>{let a=.2126*parseInt(e[1].substr(1,2),16)+.7152*parseInt(e[1].substr(3,2),16)+.0722*parseInt(e[1].substr(5,2),16),s=.2126*parseInt(t[1].substr(1,2),16)+.7152*parseInt(t[1].substr(3,2),16)+.0722*parseInt(t[1].substr(5,2),16);return a<s?1:a>s?-1:0});for(let n of o)s=n[0],i=n[1],a=document.createElement("div"),a.className="color-input",a.dataset.scheme=t?"menu-scheme":"scheme",a.id=t?"menu-scheme-"+s:"scheme-"+s,a.dataset.color=""+s,a.title=s,a.style.backgroundColor=i,e.appendChild(a)}CreateItemsOfColorSchemeAreaPanel(e,t=!1){for(let e of document.querySelectorAll(`[data-scheme=${t?"menu-color-scheme":"color-scheme"}]`))e.parentNode.removeChild(e);let a,s,i,o=0;for(let r of this._params.gradientScheme.list)i=r[1],s=Array.from(n.a.instance.mapColors.entries()).find(e=>e[1]===i)[0],a=document.createElement("div"),a.className="color-input",a.dataset.scheme=t?"menu-color-scheme":"color-scheme",a.id=t?"menu-color-scheme-"+s:"color-scheme-"+s,a.dataset.color=""+s,a.dataset.index=o.toString(),a.title=s,a.style.backgroundColor=i,e.appendChild(a),o++}OnAllSchemeClick(e){let t,a=e.target,s=new n.b,i=this._params.gradientScheme.list.length;for(let e=0;e<this._params.gradientScheme.list.length;e++)t=e/i,s.Add([t,this._params.gradientScheme.list[e][1]]);t=1,s.Add([t,Array.from(n.a.instance.mapColors.entries()).find(e=>e[0]===a.dataset.color)[1]]),this._params.gradientScheme=s,document.dispatchEvent(new CustomEvent("rg-OverFill",{bubbles:!0})),"menu-scheme"===a.dataset.scheme&&(this.CreateItemsOfColorSchemeAreaPanel(document.querySelector("[data-is-color-scheme]"),!0),this.DefineEventsMenuColorScheme())}OnColorSchemeClick(e){let t,a=e.target,s=new n.b,i=a.dataset.color,o=this._params.gradientScheme.list.filter(e=>e[1]!==Array.from(n.a.instance.mapColors.entries()).find(e=>e[0]===i)[1]),r=o.length-1;for(let e=0;e<o.length;e++)t=e/r,s.Add([t,o[e][1]]);this._params.gradientScheme=s,document.dispatchEvent(new CustomEvent("rg-OverFill",{bubbles:!0})),"menu-color-scheme"===a.dataset.scheme&&(this.CreateItemsOfColorSchemeAreaPanel(document.querySelector("[data-is-color-scheme]"),!0),this.DefineEventsMenuColorScheme())}OnIsTranslucentModal(e){this.SetOpacityModal(e.detail.value)}SetOpacityModal(e){this._domItems.modalParms.style.opacity=e?"0.7":"1"}OnWindowChange(){this._domItems.menuSelect.dataset.type="empty",this._domItems.menuSelect.style.display="none"}}return e._instance=void 0,e})();(()=>{class e{constructor(e){this._aspectRatio=1.5,this._parms=l.instance,this._domItems=e,this._aspectRatio=this._domItems.boxForRGArea.clientWidth/this._domItems.boxForRGArea.clientHeight,this._context=this._domItems.rgArea.getContext("2d"),this.SetScaleArea(),this.SetEvents(),this.DependencyResolutions(),this.Draw(),this.OnIsAutoColorScheme()}static get instance(){if(!e._instance)throw new Error("Instance of ../js-advanced/colorManagement.js was not created.");return e._instance}get context(){return this._context}static Create(t){return e._instance||(e._instance=new e(t)),e._instance}SetScaleArea(){this._domItems.rgArea.width=this._parms.areaWidth,this._domItems.rgArea.height=this._parms.areaHeight}DependencyResolutions(){this._parmsDefinition=c.Create(this._parms,this._domItems)}SetEvents(){window.addEventListener("resize",()=>{this.OnWindowResize()},!1),document.body.addEventListener("keydown",e=>{this.ListeningToKeystrokes(e)},!1),this._domItems.menuSelect.addEventListener("mouseleave",()=>{Object(s.a)(this._domItems.menuSelect)&&this.SetEmptyMenuSelect()},!1),this._domItems.settings.addEventListener("click",()=>{this.DefineSettings()},!1),this._domItems.overFill.addEventListener("click",()=>{this.OverFill()},!1),document.addEventListener(this._parms.nameEventScaleChange,()=>{this.OnScaleChange(),this.Draw()},!1),document.addEventListener(this._parms.nameEventXChange,()=>{this.Draw()},!1),document.addEventListener(this._parms.nameEventYChange,()=>{this.Draw()},!1),document.addEventListener(this._parms.nameEventWidthChange,()=>{this.Draw()},!1),document.addEventListener(this._parms.nameEventHeightChange,()=>{this.Draw()},!1),document.addEventListener(this._parms.nameEventXOneChange,()=>{this.Draw()},!1),document.addEventListener(this._parms.nameEventYOneChange,()=>{this.Draw()},!1),document.addEventListener(this._parms.nameEventROneChange,()=>{this.Draw()},!1),document.addEventListener(this._parms.nameEventXTwoChange,()=>{this.Draw()},!1),document.addEventListener(this._parms.nameEventYTwoChange,()=>{this.Draw()},!1),document.addEventListener(this._parms.nameEventRTwoChange,()=>{this.Draw()},!1),document.addEventListener(this._parms.nameEventGradientSchemeChange,()=>{this.Draw()},!1),document.addEventListener(this._parms.nameEventDirectionChange,()=>{this.OnDirectionChange()},!1),document.addEventListener(this._parms.nameEventFillingDirectionChange,()=>{this.OnRandomDirectionChange()},!1),document.addEventListener(this._parms.nameEventisAutoColorScheme,()=>{this.OnIsAutoColorScheme()},!1)}DefineSettings(){this._parmsDefinition.Open()}OverFill(){let e=n.a.instance.CreateColorScheme();"Ручное управление"!==this._parms.fillingDirection[0]&&(this._parms.SetRandomFillingDiirection(),this._parms.SetRadialParameters()),this._parms.gradientScheme=e,document.dispatchEvent(new CustomEvent("rg-OverFill",{bubbles:!0}))}OnWindowResize(){this._parms.isTrackProportionsAreaRG&&(this._domItems.boxForRGArea.style.height=Math.floor(this._domItems.boxForRGArea.clientWidth/this._aspectRatio)+"px")}ListeningToKeystrokes(e){if(0===e.charCode)switch(e.keyCode){case 27:for(let e of document.getElementsByClassName("w3-modal"))Object(s.a)(e)&&(e.style.display="none");Object(s.a)(this._domItems.menuSelect)&&this.SetEmptyMenuSelect()}}OnScaleChange(){let e=this._domItems.rgArea.width,t=this._domItems.rgArea.height;this.SetScaleArea();let a=this._parms.areaWidth/e,s=this._parms.areaHeight/t,n={x:0,y:0,w:0,h:0,oneX:0,oneY:0,oneR:0,twoX:0,twoY:0,twoR:0};n.x=Math.floor(this._parms.x*a),n.y=Math.floor(this._parms.y*s),n.w=Math.floor(this._parms.width*a),n.h=Math.floor(this._parms.height*s),n.oneX=Math.floor(this._parms.xOne*a),n.oneY=Math.floor(this._parms.yOne*s),n.oneR=Math.floor(this._parms.rOne*Math.max(a,s)),n.twoX=Math.floor(this._parms.xTwo*a),n.twoY=Math.floor(this._parms.yTwo*s),n.twoR=Math.floor(this._parms.rTwo*Math.max(a,s)),this._parms.x=n.x,this._parms.y=n.y,this._parms.width=n.w,this._parms.height=n.h,this._parms.xOne=n.oneX,this._parms.yOne=n.oneY,this._parms.rOne=n.oneR,this._parms.xTwo=n.twoX,this._parms.yTwo=n.twoY,this._parms.rTwo=n.twoR}OnIsAutoColorScheme(){this._domItems.overFill.dataset.visible=this._parms.isAutoColorScheme.toString()}OnDirectionChange(){this._parms.SetRadialParameters(),this.Draw()}OnRandomDirectionChange(){"Случайный выбор"===this._parms.fillingDirection[0]&&(this._parms.SetRandomFillingDiirection(),this._parms.SetRadialParameters(),this.Draw())}Draw(){this.context.clearRect(0,0,this._domItems.rgArea.width,this._domItems.rgArea.height),this.context.strokeStyle="black",this.context.lineWidth=1,this.context.strokeRect(this._parms.x,this._parms.y,this._parms.width,this._parms.height),n.a.instance.FillRectRadialGradiant(this.context,this._parms.x,this._parms.y,this._parms.width,this._parms.height,this._parms.xOne,this._parms.yOne,this._parms.rOne,this._parms.xTwo,this._parms.yTwo,this._parms.rTwo,this._parms.gradientScheme)}SetEmptyMenuSelect(){this._domItems.menuSelect.dataset.type="empty",this._domItems.menuSelect.style.display="none"}}return e._instance=void 0,e})().Create(d.Create(document.getElementById("settings"),document.getElementById("overfill"),document.getElementById("parms-show"),document.getElementById("rg-container"),document.getElementById("rg-area"),document.getElementById("parms-modal"),document.getElementById("parms-scale-area-panel"),document.getElementById("parms-direction-area-panel"),document.getElementById("parms-color-scheme-area-panel"),document.getElementById("parms-all-colors-area-panel"),document.getElementById("parms-x-top"),document.getElementById("show-x-top-range"),document.getElementById("show-x-top-value"),document.getElementById("parms-y-top"),document.getElementById("show-y-top-range"),document.getElementById("show-y-top-value"),document.getElementById("parms-width"),document.getElementById("show-width-range"),document.getElementById("show-width-value"),document.getElementById("parms-height"),document.getElementById("show-height-range"),document.getElementById("show-height-value"),document.getElementById("parms-one-x"),document.getElementById("show-one-x-range"),document.getElementById("show-one-x-value"),document.getElementById("parms-one-y"),document.getElementById("show-one-y-range"),document.getElementById("show-one-y-value"),document.getElementById("parms-one-r"),document.getElementById("show-one-r-range"),document.getElementById("show-one-r-value"),document.getElementById("parms-two-x"),document.getElementById("show-two-x-range"),document.getElementById("show-two-x-value"),document.getElementById("parms-two-y"),document.getElementById("show-two-y-range"),document.getElementById("show-two-y-value"),document.getElementById("parms-two-r"),document.getElementById("show-two-r-range"),document.getElementById("show-two-r-value"),document.getElementById("is-auto-color-scheme"),document.getElementById("is-track-proportions-area-rg"),document.getElementById("is-translucent-modal"),document.getElementById("parmsOK"),document.getElementById("menu-select")))}]);