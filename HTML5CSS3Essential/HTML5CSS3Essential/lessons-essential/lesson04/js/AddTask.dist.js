!function(e){var t={};function i(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(r,o,function(t){return e[t]}.bind(null,o));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t){class i{constructor(){this.typeGradient,this.listColors}}class r{constructor(e,t){this.position=e,this.color=t}}let o,n=e=>document.getElementById(e),a=n("canvas"),l=new class{constructor(){this.mapColors=new Map([["Aliceblue","#f0f8ff"],["Antiquewhite","#FAEBD7"],["Aqua","#00FFFF"],["Aquamarine","#7FFFD4"],["Azure","#F0FFFF"],["Beige","#F5F5DC"],["Bisque","#FFE4C4"],["Black","#000000"],["Blanchedalmond","#FFEBCD"],["Blue","#0000ff"],["Blueviolet","#8A2BE2"],["Brown","#A52A2A"],["Burlywood","#DEB887"],["Cadetblue","#5F9EA0"],["Chartreuse","#7FFF00"],["Chocolate","#D2691E"],["Coral","#FF7F50"],["Cornflowerblue","#6495ED"],["Cornsilk","#FFF8DC"],["Crimson","#DC143C"],["Cyan","#00FFFF"],["Darkblue","#00008B"],["Darkcyan","#008B8B"],["Darkgoldenrod","#B8860B"],["Darkgray","#A9A9A9"],["Darkgreen","#006400"],["Darkkhaki","#BDB76B"],["Darkmagenta","#8B008B"],["Darkolivegreen","#556B2F"],["Darkorange","#FF8C00"],["Darkorchid","#9932CC"],["Darkred","#8B0000"],["Darksalmon","#E9967A"],["Darkseagreen","#8FBC8B"],["Darkslateblue","#483D8B"],["Darkslategray","#2F4F4F"],["Darkturquoise","#00CED1"],["Darkviolet","#9400D3"],["Deeppink","#FF1493"],["Deepskyblue","#00BFFF"],["Dimgray","#696969"],["Dodgerblue","#1E90FF"],["Firebrick","#B22222"],["Floralwhite","#FFFAF0"],["Forestgreen","#228B22"],["Fuchsia","#FF00FF"],["Gainsboro","#DCDCDC"],["Ghostwhite","#F8F8FF"],["Gold","#FFD700"],["Goldenrod","#DAA520"],["Gray","#808080"],["Green","#008000"],["Greenyellow","#ADFF2F"],["Honeydew","#F0FFF0"],["Hotpink","#FF69B4"],["Indianred","#CD5C5C"],["Indigo","#4B0082"],["Ivory","#FFFFF0"],["Khaki","#F0E68C"],["Lavender","#E6E6FA"],["Lavenderblush","#FFF0F5"],["Lawngreen","#7CFC00"],["Lemonchiffon","#FFFACD"],["Lightblue","#ADD8E6"],["Lightcoral","#F08080"],["Lightcyan","#E0FFFF"],["Lightgoldenrod","#EEDD82"],["Lightgoldenrodyellow","#FAFAD2"],["Lightgray","#D3D3D3"],["Lightgreen","#90EE90"],["Lightpink","#FFB6C1"],["Lightsalmon","#FFA07A"],["Lightseagreen","#20B2AA"],["Lightskyblue","#87CEFA"],["Lightslateblue","#8470FF"],["Lightslategray","#778899"],["Lightsteelblue","#B0C4DE"],["Lightyellow","#FFFFE0"],["Lime","#00FF00"],["Limegreen","#32CD32"],["Linen","#FAF0E6"],["Magenta","#FF00FF"],["Maroon","#800000"],["Mediumaquamarine","#66CDAA"],["Mediumblue","#0000CD"],["Mediumorchid","#BA55D3"],["Mediumpurple","#9370DB"],["Mediumseagreen","#3CB371"],["Mediumslateblue","#7B68EE"],["Mediumspringgreen","#00FA9A"],["Mediumturquoise","#48D1CC"],["Mediumvioletred","#C71585"],["Midnightblue","#191970"],["Mintcream","#F5FFFA"],["Mistyrose","#FFE4E1"],["Moccasin","#FFE4B5"],["Navajowhite","#FFDEAD"],["Navy","#000080"],["Navyblue","#A0B0E0"],["Oldlace","#FDF5E6"],["Olive","#808000"],["Olivedrab","#6B8E23"],["Orange","#FFA500"],["Orangered","#FF4500"],["Orchid","#DA70D6"],["Palegoldenrod","#EEE8AA"],["Palegreen","#98FB98"],["Paleturquoise","#AFEEEE"],["Palevioletred","#DB7093"],["Papayawhip","#FFEFD5"],["Peachpuff","#FFDAB9"],["Peru","#CD853F"],["Pink","#FFC0CB"],["Plum","#DDA0DD"],["Powderblue","#B0E0E6"],["Purple","#800080"],["Red","#FF0000"],["Rosybrown","#BC8F8F"],["Royalblue","#4169E1"],["Saddlebrown","#8B4513"],["Salmon","#FA8072"],["Sandybrown","#F4A460"],["Seagreen","#2E8B57"],["Seashell","#FFF5EE"],["Sienna","#A0522D"],["Silver","#C0C0C0"],["Skyblue","#87CEEB"],["Slateblue","#6A5ACD"],["Slategray","#708090"],["Snow","#FFFAFA"],["Springgreen","#00FF7F"],["Steelblue","#4682B4"],["Tan","#D2B48C"],["Teal","#008080"],["Thistle","#D8BFD8"],["Tomato","#FF6347"],["Turquoise","#40E0D0"],["Violet","#EE82EE"],["Violetred","#D02090"],["Wheat","#F5DEB3"],["White","#FFFFFF"],["Whitesmoke","#F5F5F5"],["Yellow","#FFFF00"],["Yellowgreen","#9ACD32"]])}setFillLineGradient(e,t){let i,r=0===Number(t.value)?l.getRandomInt(1,4):Number(t.value);i=this.getLinerGradient(r,e,0,0,e.canvas.width,e.canvas.height),this.setLinerGradient(i,3,10),e.fillStyle=i,e.fillRect(0,0,e.canvas.width,e.canvas.height)}getFillBoxLineGradient(e,t,i,r,o){let n,a=l.getRandomInt(1,4);return o.typeGradient=a,n=this.getLinerGradient(a,e,t,i,r,r),o.listColors=this.setLinerGradient(n,3,10),n}restoreFillBoxLineGradient(e,t,i,r,o){let n;n=this.getLinerGradient(o.typeGradient,e,t,i,r,r);for(let e of o.listColors)n.addColorStop(e.position,e.color);return n}getLinerGradient(e,t,i,r,o,n){return 1===e?t.createLinearGradient(i,r,i,r+n):2===e?t.createLinearGradient(i,r,i+o,r):3===e?t.createLinearGradient(i,r,i+n,r+o):4===e?t.createLinearGradient(i,r+o,i+n,0):t.createLinearGradient(i,r,i,r+n)}setLinerGradient(e,t,i){let o,n=new Array,a=this.getRandomInt(t,i);for(let t=0;t<a;t++)o=new r(t/a,this.getRandomColor()),n.push(o),e.addColorStop(o.position,o.color);return o=new r(1,this.getRandomColor()),n.push(o),e.addColorStop(o.position,o.color),n}getRandomColor(){let e,t=this.getRandomInt(1,this.mapColors.size),i=0;for(let r of this.mapColors.keys())if(i++,i===t){e=this.mapColors.get(r);break}return e}getRandomInt(e,t){return Math.floor(Math.random()*(t-e+1))+e}};function s(){"Стоп"===n("autoFill").innerHTML&&(clearInterval(o),o=setInterval(()=>l.setFillLineGradient(a.getContext("2d"),n("typeFill")),Number(n("intervalAutoFill").value)))}l.setFillLineGradient(a.getContext("2d"),n("typeFill")),a.addEventListener("mouseenter",()=>l.setFillLineGradient(a.getContext("2d"),n("typeFill"))),a.addEventListener("mouseleave",()=>l.setFillLineGradient(a.getContext("2d"),n("typeFill"))),n("autoFill").addEventListener("click",(function(e){"Старт"===e.target.innerHTML.trim()?(e.target.innerHTML="Стоп",o=setInterval(()=>l.setFillLineGradient(a.getContext("2d"),n("typeFill")),Number(n("intervalAutoFill").value))):(e.target.innerHTML="Старт",clearInterval(o))}),!1),n("intervalAutoFill").addEventListener("change",()=>{s()},!1),n("typeFill").addEventListener("change",()=>{s()},!1);let d=new Array;for(let e=0;e<317;e++)d.push(`img/${1+e}.jpg`);n("imgCell").src=d[l.getRandomInt(0,316)],n("imgCell").addEventListener("mouseenter",()=>n("imgCell").src=d[l.getRandomInt(0,316)],!1),n("imgCell").addEventListener("mouseleave",()=>n("imgCell").src=d[l.getRandomInt(0,316)],!1);let h=n("canvasCell"),u=new Image;u.addEventListener("load",(function(){let e=h.width*u.height/u.width;h.height=e,h.getContext("2d").drawImage(u,0,0,u.width,u.height,0,0,h.width,h.height)}),!1),u.src=d[l.getRandomInt(0,316)],h.addEventListener("mouseenter",()=>{u.src=d[l.getRandomInt(0,316)]},!1),h.addEventListener("mouseleave",()=>{u.src=d[l.getRandomInt(0,316)]},!1);for(let e=0;e<6;e++)n("speedAnimate").appendChild(0===e?new Option("Все","0"):new Option(e,e));for(let e=1;e<1001;e++)n("countFigure").appendChild(new Option(e,e));for(let e=10;e<51;e++)n("sizeFigure").appendChild(new Option(e,e));for(let e=1;e<Math.max(n("canvasAnimate").width,n("canvasAnimate").height)+1;e++)n("minStep").appendChild(new Option(e,e)),n("maxStep").appendChild(new Option(e,e));let F=n("canvasAnimate"),c=n("canvasAnimate").getContext("2d"),g=document.createElement("canvas");g.width=F.width,g.height=F.height;let m=new Set,p=0,f=1,L=2,b=0,y=1,v=2,w=3;class B{constructor(e){this.type=e,this.ordinal,this.x=0,this.y=0,this.size=30,this.borderWidth=5,this.colorFill,this.colorStroke,this.direct,this.speed,this.countStep=0,this.step=0,this.isGradientManageMove=!1,this.propertiesFill=new i,this.propertiesStroke=new i}calcAnimate(e,t){let i,r,o=!1;return e.step++,e.step<e.countStep?e.direct===E.hLeftRight?(i=e.x+e.speed,i<t.width-e.size?e.x=i:o=!0):e.direct===E.hRightLeft?(i=e.x-e.speed,i>=0?e.x=i:o=!0):e.direct===E.vTopDown?(r=e.y+e.speed,r<t.height-e.size?e.y=r:o=!0):e.direct===E.vDownTop?(r=e.y-e.speed,r>=0?e.y=r:o=!0):e.direct===E.biasLeftTop?(i=e.x+e.speed,r=e.y+e.speed,i<t.width-e.size&&r<t.height-e.size?(e.x=i,e.y=r):o=!0):e.direct===E.biasRightTop?(i=e.x-e.speed,r=e.y+e.speed,i>=0&&r<t.height-e.size?(e.x=i,e.y=r):o=!0):e.direct===E.biasLeftBottom?(i=e.x+e.speed,r=e.y-e.speed,i<t.width-e.size&&r>=0?(e.x=i,e.y=r):o=!0):e.direct===E.biasRightBottom&&(i=e.x-e.speed,r=e.y-e.speed,i>=0&&r>=0?(e.x=i,e.y=r):o=!0):o=!0,o&&(e.step=0,e.countStep=x(),e.direct=R(),e.speed=S(),e.colorFill=k(t.getContext("2d"),e.x+e.borderWidth,e.y+this.borderWidth,e.size-2*e.borderWidth,e.propertiesFill),e.colorStroke=k(t.getContext("2d"),e.x,e.y,e.size,e.propertiesStroke)),o}}class D extends B{constructor(){super(f)}draw(e){e.beginPath(),e.rect(this.x,this.y,this.size,this.size),this.isGradientManageMove&&(this.colorStroke=l.restoreFillBoxLineGradient(e,this.x,this.y,this.size,this.propertiesStroke)),e.fillStyle=this.colorStroke,e.fill(),e.beginPath(),e.rect(this.x+this.borderWidth,this.y+this.borderWidth,this.size-2*this.borderWidth,this.size-2*this.borderWidth),this.isGradientManageMove&&(this.colorFill=l.restoreFillBoxLineGradient(e,this.x,this.y,this.size,this.propertiesFill)),e.fillStyle=this.colorFill,e.fill()}}class C extends B{constructor(){super(L)}draw(e){e.beginPath();let t=this.size/2,i=2*Math.PI;e.arc(this.x+t,this.y+t,t,0,i,!1),this.isGradientManageMove&&(this.colorStroke=l.restoreFillBoxLineGradient(e,this.x,this.y,this.size,this.propertiesStroke)),e.fillStyle=this.colorStroke,e.fill(),e.beginPath(),e.arc(this.x+t,this.y+t,t-this.borderWidth,0,i,!1),this.isGradientManageMove&&(this.colorFill=l.restoreFillBoxLineGradient(e,this.x,this.y,this.size,this.propertiesFill)),e.fillStyle=this.colorFill,e.fill()}}let A=!1;window.requestFrame=function(e){(window.mozRequestAnimationFrame||window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e){window.setTimeout(e,500)})(e)};let E={hLeftRight:10,hRightLeft:11,vTopDown:12,vDownTop:13,biasLeftTop:14,biasRightTop:15,biasLeftBottom:16,biasRightBottom:17,countHLeftRight:0,countHRightLeft:0,countVTopDown:0,countVDownTop:0,countBiasLeftTop:0,countBiasRightTop:0,countBiasLeftBottom:0,countBiasRightBottom:0};function x(){return l.getRandomInt(Number(n("minStep").value),Number(n("maxStep").value))}function R(){let e=l.getRandomInt(E.hLeftRight,E.biasRightBottom);return e===E.hLeftRight?E.countHLeftRight++:e===E.hRightLeft?E.countHRightLeft++:e===E.vTopDown?E.countVTopDown++:e===E.vDownTop?E.countVDownTop++:e===E.biasLeftTop?E.countBiasLeftTop++:e===E.biasRightTop?E.countBiasRightTop++:e===E.biasLeftBottom?E.countBiasLeftBottom++:e===E.biasRightBottom&&E.countBiasRightBottom++,e}function S(){let e=1;return e=0===Number(n("speedAnimate").value)?l.getRandomInt(1,5):Number(n("speedAnimate").value),e}function k(e,t,i,r,o){let a=y,s=l.getRandomColor();return a=Number(n("typeFillAnimate").value)===b?l.getRandomInt(y,v):Number(n("typeFillAnimate").value),a===y?s=l.getRandomColor():a!==v&&a!==w||(s=l.getFillBoxLineGradient(e,t,i,r,o)),s}function M(){let e=p,t=new D;return e=Number(n("typeFigure").value)===p?l.getRandomInt(f,L):Number(n("typeFigure").value),e===f?t=new D:e===L&&(t=new C),t}function T(e){return e.size=Number(n("sizeFigure").value),e.x=l.getRandomInt(0,F.width-e.size),e.y=l.getRandomInt(0,F.height-e.size),e.isGradientManageMove=Number(n("typeFillAnimate").value)===w,A?(e.colorFill=k(g.getContext("2d"),e.x+e.borderWidth,e.y+e.borderWidth,e.size-2*e.borderWidth,e.propertiesFill),e.colorStroke=k(g.getContext("2d"),e.x,e.y,e.size,e.propertiesStroke)):(e.colorFill=k(c,e.x+e.borderWidth,e.y+e.borderWidth,e.size-2*e.borderWidth,e.propertiesFill),e.colorStroke=k(c,e.x,e.y,e.size,e.propertiesStroke)),e.direct=R(),e.speed=S(),e.countStep=x(),e.step=0,e.borderWidth=Math.floor(e.size/6),e.ordinal=m.size+1,e}for(let e=0;e<Number(n("countFigure").value);e++)m.add(T(M()));for(let e of m)e.draw(c);n("btnAnimate").addEventListener("click",(function(e){"Старт"===e.target.innerHTML.trim()?(e.target.innerHTML="Стоп",A=!0,function e(t,i,r){for(item of(r.clearRect(0,0,i.width,i.height),t))item.calcAnimate(item,i),item.draw(r);c.clearRect(0,0,F.width,F.height),c.drawImage(i,0,0),A&&requestFrame(()=>e(t,i,r))}(m,g,g.getContext("2d"))):(e.target.innerHTML="Старт",A=!1,n("countHLeftRight").innerHTML=E.countHLeftRight,n("countHRightLeft").innerHTML=E.countHRightLeft,n("countVTopDown").innerHTML=E.countVTopDown,n("countVDownTop").innerHTML=E.countVDownTop,n("countBiasLeftTop").innerHTML=E.countBiasLeftTop,n("countBiasRightTop").innerHTML=E.countBiasRightTop,n("countBiasLeftBottom").innerHTML=E.countBiasLeftBottom,n("countBiasRightBottom").innerHTML=E.countBiasRightBottom)}),!1),n("countFigure").addEventListener("change",()=>{if(Number(n("countFigure").value)<m.size){let e=m.size-Number(n("countFigure").value);for(let t of m)if(m.delete(t),e--,0===e)break;if(!A){c.clearRect(0,0,F.width,F.height);for(let e of m)e.draw(c)}}else if(Number(n("countFigure").value)>m.size){let e=Number(n("countFigure").value)-m.size;for(let t=0;t<e;t++){let e=T(M());A||e.draw(c),m.add(e)}}},!1),n("sizeFigure").addEventListener("change",()=>{A||c.clearRect(0,0,F.width,F.height),m.clear();for(let e=0;e<Number(n("countFigure").value);e++){let e=T(M());A||e.draw(c),m.add(e)}},!1),n("speedAnimate").addEventListener("change",()=>{for(item of m)item.speed=S()},!1),n("minStep").addEventListener("change",()=>{for(item of m)item.countStep=x()},!1),n("maxStep").addEventListener("change",()=>{for(item of m)item.countStep=x()},!1),n("typeFigure").addEventListener("change",()=>{A||c.clearRect(0,0,F.width,F.height),m.clear();for(let e=0;e<Number(n("countFigure").value);e++){let e=T(M());A||e.draw(c),m.add(e)}},!1),n("typeFillAnimate").addEventListener("change",()=>{for(item of m)item.isGradientManageMove=Number(n("typeFillAnimate").value)===w,A?(item.colorFill=k(g.getContext("2d"),item.x+item.borderWidth,item.y+item.borderWidth,item.size-2*item.borderWidth,item.propertiesFill),item.colorStroke=k(g.getContext("2d"),item.x,item.y,item.size,item.propertiesStroke)):(item.colorFill=k(c,item.x+item.borderWidth,item.y+item.borderWidth,item.size-2*item.borderWidth,item.propertiesFill),item.colorStroke=k(c,item.x,item.y,item.size,item.propertiesStroke)),A||item.draw(c)},!1)}]);